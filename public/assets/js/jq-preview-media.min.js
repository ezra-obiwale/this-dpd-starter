(function(){$.fn.previewMedia=function(a,b){return this.each(function(){$(this).change(function(){var e=this;if(typeof(window.FileReader)!=="undefined"){var d=new FileReader(),c=window.URL||window.webkitURL;d.onload=function(f){if(b&&typeof b==="function"){b.call(e,this.result)}};d.readAsDataURL($(this)[0].files[0]);if(!a){a=$(e).siblings("img,audio,video")}$(a).attr("src",c.createObjectURL($(this)[0].files[0]))}else{$(a).replaceWith("<strong>Your browser does not support media preview</strong>")}})})}})(window);